<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Live —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ ‚Äî STOLAR CARP</title>

  <link rel="stylesheet" href="assets/css/main.css">
  <script defer src="assets/js/config.js"></script>

  <style>
  /* ===== –í–µ—Ä—Ö–Ω—ñ–π –±–ª–æ–∫ ===== */
  .live-header{
    display:flex;
    flex-direction:column;
    gap:6px;
    margin-bottom:18px;
  }
  .live-kicker{
    display:inline-flex;
    align-items:center;
    gap:6px;
    font-size:12px;
    text-transform:uppercase;
    letter-spacing:.12em;
    color:#fcd34d;
    background:rgba(252,211,77,.08);
    border-radius:999px;
    padding:4px 10px;
    border:1px solid rgba(252,211,77,.35);
    width:fit-content;
  }
  .live-dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background:#ef4444;
    box-shadow:0 0 10px rgba(239,68,68,.9);
  }
  .title-gradient{
    background:linear-gradient(90deg,#f6c34c 0%,#cc6a2b 35%,#7a0f2b 100%);
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
  }
  .live-stage-pill{
    display:inline-flex;
    align-items:center;
    gap:8px;
    font-size:13px;
    color:var(--muted);
  }
  .live-stage-pill span{
    padding:4px 10px;
    border-radius:999px;
    border:1px solid #262636;
    background:#0d0d14;
    font-size:12px;
  }

  .bf-toggle{
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
    margin-top:10px;
  }
  .bf-toggle .btn{
    padding:8px 12px;
    border-radius:14px;
    font-size:13px;
  }

  /* ===== –ú–∞–∫–µ—Ç ===== */
  .live-layout{
    display:grid;
    grid-template-columns:1fr;
    gap:18px;
  }
  @media (min-width:980px){
    .live-layout{
      grid-template-columns:2fr 1.25fr;
    }
  }

  /* ===== –¢–∞–±–ª–∏—Ü—ñ (–±–∞–∑–æ–≤–æ, —è–∫ –±—É–ª–æ) ===== */
  .table-sm{
    font-size:11.5px;
    line-height:1.25;
  }
  .table-sm th,
  .table-sm td{
    padding:4px 6px;
    white-space:nowrap;
  }
  .table-sm td.team-col{
    max-width:180px;
    white-space:normal;
  }

  .table-wrap{
    overflow-x:auto;
    max-width:100%;
  }

  .live-note{
    font-size:11.5px;
    color:var(--muted);
    margin-top:6px;
  }

  /* ===== –ó–æ–Ω–∏ A / B / C ===== */
  .live-zones-grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:12px;
  }
  @media (max-width:980px){
    .live-zones-grid{
      grid-template-columns:1fr;
    }
  }

  .live-zone.card{
    padding:10px 10px 8px;
  }
  .live-zone-title{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:6px;
  }
  .live-zone-title .badge{
    font-size:11px;
    padding:3px 8px;
  }

  /* --- –∫–æ–º–ø–∞–∫—Ç–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ —Å–∞–º–µ –¥–ª—è –∑–æ–Ω --- */
  .live-zone .table-sm{
    font-size:11px;
  }
  .live-zone .table-sm th,
  .live-zone .table-sm td{
    padding:3px 4px;
  }

  /* –ó–æ–Ω–∞ (A4, B5...) –≤—É–∑—å–∫–∞ */
  .live-zone .table-sm th:nth-child(1),
  .live-zone .table-sm td:nth-child(1){
    width:38px;
    text-align:center;
  }

  /* –ö–æ–º–∞–Ω–¥–∞ */
  .live-zone .table-sm th:nth-child(2),
  .live-zone .table-sm td:nth-child(2){
    max-width:110px;
  }

  /* –≤—Å—ñ —á–∏—Å–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
  .live-zone .table-sm td:nth-child(n+3){
    text-align:center;
  }

  /* ============================
     BigFish Total ‚Äì –∫–æ–º–ø–∞–∫—Ç–Ω–∞ –≤–µ—Ä—Å—ñ—è
     ============================ */
  .bf-wrap{
    margin-top: 12px;
    padding: 14px 16px;
    border-radius: 14px;
  }

  .bf-wrap h2{
    font-size: 20px;
    font-weight: 600;
    line-height: 1.25;
    margin: 0;
  }

  .bf-wrap .pill{
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 5px 9px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,.25);
    background: rgba(2,6,23,.35);
    color: #cbd5e1;
    font-size: 11px;
    white-space: nowrap;
  }

  .bf-wrap .table-sm{
    font-size: 11px;
    line-height: 1.2;
  }

  .bf-wrap .table-sm th,
  .bf-wrap .table-sm td{
    padding: 3px 5px;
    white-space: nowrap;
  }

  .bf-wrap .table-sm th:nth-child(1),
  .bf-wrap .table-sm td:nth-child(1){
    max-width: 130px;
    white-space: normal;
  }

  .bf-wrap .table-sm th:nth-child(n+2),
  .bf-wrap .table-sm td:nth-child(n+2){
    text-align: center;
  }

  .bigfish-row--max{
    background: rgba(250,204,21,0.08);
  }

  /* FIX: —Ö–æ–≤–∞–Ω–Ω—è/–ø–æ–∫–∞–∑ BigFish (–±–æ —Ç–∏ –ø–µ—Ä–µ–º–∏–∫–∞—î—à –∫–ª–∞—Å–æ–º is-open) */
  #bigFishWrap{ display:none; }
  #bigFishWrap.is-open{ display:block; }

  /* ===== LIVE: FIX "–≤–∏–ª–∞–∑–∏—Ç—å –≤–ø—Ä–∞–≤–æ" (–ø–æ—Ä—Ç—Ä–µ—Ç) ===== */
  .live-page .table-wrap{
    width:100%;
    max-width:100%;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
  }

  /* –∫–ª—é—á: —Ç–∞–±–ª–∏—Ü—è 100% —ñ fixed */
  .live-page table.table{
    width:100% !important;
    table-layout:fixed !important;
  }

  /* –∞–≤—Ç–æ-–∑–º–µ–Ω—à–µ–Ω–Ω—è —à—Ä–∏—Ñ—Ç—ñ–≤ */
  .live-page .table-sm{
    font-size: clamp(9px, 2.6vw, 11.5px);
    line-height:1.15;
  }
  .live-page .table-sm th,
  .live-page .table-sm td{
    padding: clamp(3px, 1.1vw, 6px);
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
  }

  /* –Ω–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏ –º–æ–∂–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏—Å—å */
  .live-page .table-sm th:nth-child(2),
  .live-page .table-sm td:nth-child(2){
    white-space: normal;
  }

  /* === ZONES: —â–æ–± –≤–∞–≥–∞/—Ü–∏—Ñ—Ä–∏ –Ω–µ –∑–Ω–∏–∫–∞–ª–∏ === */
  .live-zone table{
    width:100% !important;
    table-layout: fixed !important;
  }
  .live-zone th,
  .live-zone td{
    padding: 3px 4px !important;
    font-size: clamp(9px, 2.55vw, 11px) !important;
    line-height: 1.15 !important;
  }
  .live-zone th:nth-child(1),
  .live-zone td:nth-child(1){ width: 40px !important; text-align:center !important; }
  .live-zone th:nth-child(2),
  .live-zone td:nth-child(2){ width: 92px !important; white-space: normal !important; overflow: hidden !important; }
  .live-zone th:nth-child(9),
  .live-zone td:nth-child(9){
    width: 60px !important;
    text-align:center !important;
    white-space: nowrap !important;
    overflow: visible !important;
    text-overflow: clip !important;
    font-variant-numeric: tabular-nums;
  }

  /* –º–µ–Ω—à–µ —Ä–∞–º–æ–∫ */
  @media (max-width: 980px){
    .container{ width: min(1100px, 96%) !important; }
  }
  .card{ padding: 14px !important; border-color: rgba(255,255,255,.08) !important; }
  .live-zone.card{ padding: 10px !important; border-color: rgba(255,255,255,.06) !important; }
  .table th, .table td{ border-color: rgba(255,255,255,.08) !important; }
  .table th{ background: rgba(255,255,255,.04) !important; }
  .table tr:nth-child(even){ background: rgba(255,255,255,.02) !important; }
  
/* ===============================
   LIVE ‚Äî –†–ê–ú–ö–ê –ó–û–ù–ò –í–ü–†–ò–¢–£–õ
   =============================== */

/* –í–µ–ª–∏–∫–∞ —Ä–∞–º–∫–∞ (–ó–æ–Ω–∏ A / B / C) */
.live-left > .card{
  padding: 10px !important;
}

/* –°–Ü–¢–ö–ê –ó–û–ù ‚Äî –ë–ï–ó –í–Ü–î–°–¢–£–ü–Ü–í */
.live-zones-grid{
  gap: 0 !important;
}

/* –†–ê–ú–ö–ê –ó–û–ù–ò ‚Äî –í–ü–†–ò–¢–£–õ */
.live-zone.card{
  margin: 0 !important;
  border-radius: 14px !important;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–æ–Ω–∏ */
.live-zone-title{
  margin: 4px 0 !important;
}

/* –¢–∞–±–ª–∏—Ü—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ ‚Äî –±–µ–∑ –∑–∞–π–≤–∏—Ö –≤—ñ–¥—Å—Ç—É–ø—ñ–≤ */
.live-zone .table-wrap{
  margin: 0 !important;
  padding: 0 !important;
}

/* –¢–∞–±–ª–∏—Ü—è –∑–∞–π–º–∞—î –í–°–Æ —à–∏—Ä–∏–Ω—É */
.live-zone table{
  width: 100% !important;
  table-layout: fixed !important;
}
    
  </style>
</head>

<body class="live-page">

<header class="header">
  <div class="container header__row">
    <a class="logo" href="index.html">
      <span class="logo__mark">SC</span>
      <span class="logo__text">STOLAR CARP</span>
    </a>

    <nav class="nav" id="nav">
      <a href="index.html" class="nav__link">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="rules.html" class="nav__link">–†–µ–≥–ª–∞–º–µ–Ω—Ç</a>
      <a href="register.html" class="nav__link">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
      <a href="live.html" class="nav__link nav__link--active">Live</a>
      <a href="rating.html" class="nav__link">–†–µ–π—Ç–∏–Ω–≥</a>
      <a href="lakes.html" class="nav__link">–í–æ–¥–æ–π–º–∏</a>
      <a href="sponsors.html" class="nav__link">–°–ø–æ–Ω—Å–æ—Ä–∏</a>
      <a href="events/index.html" class="nav__link">–ê—Ä—Ö—ñ–≤</a>

      <!-- –í–ê–ñ–õ–ò–í–û: –∑—Ä–æ–±–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∞–±—Å–æ–ª—é—Ç–Ω–∏–º, —â–æ–± –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–µ–ª–æ "–∫—Ä–∏–≤–æ" -->
      <a href="/cabinet.html" class="nav__link" id="cabinetLink">–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</a>
    </nav>

    <button class="burger" id="burger" type="button"><span></span><span></span><span></span></button>
  </div>
</header>

<main class="main">
  <section class="container section">

    <div class="live-header">
      <div class="live-kicker">
        <span class="live-dot"></span>
        <span>Live –ø—Ä–æ—Ç–æ–∫–æ–ª</span>
      </div>

      <h1 class="title-gradient">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∑–º–∞–≥–∞–Ω—å</h1>

      <div class="live-stage-pill">
        <span>–ó–º–∞–≥–∞–Ω–Ω—è: <strong id="liveStageName">‚Äî</strong></span>
      </div>

      <div class="bf-toggle">
        <button class="btn btn--accent" id="toggleBigFishBtn" type="button">BigFish Total</button>
        <span class="pill" id="liveUpdatedAt">–û–Ω–æ–≤–ª–µ–Ω–æ: ‚Äî</span>
      </div>

      <div class="card bf-wrap" id="bigFishWrap">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;">
          <h2 style="margin:0;">BigFish ‚Äî Total</h2>
          <span class="pill" id="bfCount">–£—á–∞—Å–Ω–∏–∫—ñ–≤: ‚Äî</span>
        </div>

        <div class="table-wrap" style="margin-top:10px;">
          <table class="table table-sm" id="bigFishTable">
            <thead>
              <tr>
                <th>–ö–æ–º–∞–Ω–¥–∞</th>
                <th>BIG 1 –¥–æ–±–∞</th>
                <th>BIG 2 –¥–æ–±–∞</th>
                <th>MAX BIG</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <p class="lead" style="max-width:720px;margin-top:10px;">
        W = <b>–∫-—Å—Ç—å / –≤–∞–≥–∞</b> –î–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
      </p>
    </div>

    <div id="liveError" class="form-msg err" style="display:none;"></div>
    <div id="liveLoading" class="form__hint" style="margin-top:12px;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>

    <div id="liveContent" class="live-layout" style="display:none;">
      <div class="live-left">
        <div class="card" style="margin-bottom:16px;">
          <h2 style="margin-top:0;">–ó–æ–Ω–∏ A / B / C</h2>
          <div class="live-zones-grid" id="zonesContainer"></div>
          <p class="live-note">–ú—ñ—Å—Ü—è —É –∑–æ–Ω—ñ.</p>
        </div>

        <div class="card">
          <h2 style="margin-top:0;">–¢–∞–±–ª–∏—Ü—è –∑–≤–∞–∂—É–≤–∞–Ω—å</h2>

          <div class="bf-toggle" style="margin-top:18px;margin-bottom:12px">
            <button class="btn btn--accent" id="wBtn1" type="button">W1</button>
            <button class="btn btn--ghost"  id="wBtn2" type="button">W2</button>
            <button class="btn btn--ghost"  id="wBtn3" type="button">W3</button>
            <button class="btn btn--ghost"  id="wBtn4" type="button">W4</button>
            <span id="weighInfo" class="form__hint" style="margin-left:auto;">–ø–µ—Ä–µ–≥–ª—è–¥ –∑–≤–∞–∂—É–≤–∞–Ω–Ω—è</span>
          </div>

          <div class="table-wrap">
            <table class="table table-sm" id="totalTable">
              <thead>
                <tr>
                  <th>–ó–æ–Ω–∞</th>
                  <th>–ö–æ–º–∞–Ω–¥–∞</th>
                  <th>üêü</th>
                  <th>üêü</th>
                  <th>üêü</th>
                  <th>üêü</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

        </div>
      </div>
    </div>

  </section>
</main>

<footer class="footer">
  <div class="container footer__row">
    <div>¬© 2025 STOLAR CARP ¬∑ –õ—å–≤—ñ–≤</div>
    <div class="footer__links">
      <a href="https://invite.viber.com/?g=8R04gUEhdVSnX6sr_DxGGGqAXTus0Ygh">Viber</a>
      <a href="https://youtube.com/@dk-stolarcarp">YouTube</a>
    </div>
  </div>
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<script src="assets/js/firebase-init.js"></script>
<script src="assets/js/live_firebase.js"></script>
<script src="assets/js/bigfish_total_live.js"></script>

<script>
  document.getElementById("toggleBigFishBtn")?.addEventListener("click", () => {
    document.getElementById("bigFishWrap")?.classList.toggle("is-open");
  });

  /* –ø—ñ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞: "–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç" –∑–∞–≤–∂–¥–∏ –≤–µ–¥–µ —Ç—É–¥–∏, –∫—É–¥–∏ —Ç—Ä–µ–±–∞ */
  (function(){
    const a = document.getElementById("cabinetLink");
    if (a) a.setAttribute("href", "/cabinet.html");
  })();
</script>

</body>
</html>
