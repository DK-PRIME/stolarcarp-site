<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Реєстрація змагань — STOLAR CARP</title>

  <link rel="icon" type="image/png" href="assets/favicon.png">
  <link rel="apple-touch-icon" href="assets/favicon.png">
  <meta name="theme-color" content="#1a1a1a">

  <link rel="stylesheet" href="assets/css/main.css">
  <script defer src="assets/js/config.js"></script>

  <style>
    body.register-page{background:var(--bg);}
    .section--narrow{max-width:1100px;margin:0 auto;}

    /* hero */
    .register-hero{
      margin-top:14px;margin-bottom:22px;
      padding:18px 16px 16px;border-radius:16px;
      background:linear-gradient(145deg,#14141d,#08080d);
      border:1px solid #262636;
      box-shadow:var(--shadow);
    }
    .register-hero__kicker{
      font-size:.72rem;text-transform:uppercase;letter-spacing:.18em;
      color:var(--muted);margin-bottom:6px;display:flex;align-items:center;gap:8px;
    }
    .register-hero__kicker-tag{
      display:inline-flex;align-items:center;justify-content:center;
      width:22px;height:22px;border-radius:999px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      font-weight:800;font-size:.75rem;color:#000;
      box-shadow:0 0 8px rgba(0,0,0,.7);
    }
    .register-hero h1{
      margin:0 0 8px;
      font-size:clamp(22px,3.4vw,30px);
      font-weight:900;
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    .register-hero .title-gradient{
      background:linear-gradient(90deg,#f6c34c 0%,#cc6a2b 40%,#7a0f2b 100%);
      -webkit-background-clip:text;background-clip:text;color:transparent;
    }
    .register-hero p{margin:0;color:var(--muted);font-size:.92rem;max-width:760px;}
    .register-hero__divider{
      margin-top:10px;width:120px;height:2px;border-radius:999px;
      background:linear-gradient(90deg,#f6c34c 0%,#cc6a2b 50%,#7a0f2b 100%);
      box-shadow:0 0 10px rgba(246,195,76,.5);
    }

    /* layout */
    .register-layout{
      display:grid;
      grid-template-columns:minmax(0,2fr) minmax(0,1.1fr);
      gap:18px;align-items:flex-start;
    }
    @media (max-width:860px){.register-layout{grid-template-columns:1fr;}}

    .register-form-card h2{
      margin:0 0 6px;
      font-size:1.05rem;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    .form__hint{font-size:.8rem;color:var(--muted);}

    .field{display:grid;gap:6px;margin-bottom:12px;}
    .field label{font-size:.9rem;font-weight:600;}
    #foodQtyField.field--disabled{opacity:.55;}

    .register-page input[type="number"]{
      background:#0f0f14;border:1px solid #2a2a39;color:#fff;
      padding:10px 14px;border-radius:10px;font-size:.96rem;
    }
    .register-page input::placeholder{color:#6b7280;}
    .register-page input:focus{
      outline:none;border-color:var(--accent);
      box-shadow:0 0 6px rgba(246,195,76,0.5);
    }

    .radio-row{display:flex;flex-wrap:wrap;gap:16px;}
    .radio-row label{display:inline-flex;align-items:center;gap:8px;cursor:pointer;font-size:.95rem;}

    .form-actions{display:flex;align-items:center;gap:10px;margin-top:4px;}
    .spinner{
      width:18px;height:18px;border-radius:50%;
      border:3px solid rgba(255,255,255,.2);border-top-color:#fff;
      display:none;
    }
    .spinner--on{display:inline-block;animation:spin .9s linear infinite;}
    @keyframes spin{to{transform:rotate(360deg)}}

    .form-msg{margin-top:6px;font-weight:700;font-size:.92rem;}
    .form-msg.ok{color:#43d18a;}
    .form-msg.err{color:#ff6c6c;}

    .card--payment{background:#05060c;border:1px solid #262636;box-shadow:var(--shadow);}
    .card-payment-title{
      font-weight:800;margin-bottom:6px;display:flex;align-items:center;gap:8px;
      text-transform:uppercase;font-size:.84rem;letter-spacing:.12em;color:#e5e7eb;
    }
    .card-payment-title span{
      width:20px;height:20px;border-radius:50%;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:inline-flex;align-items:center;justify-content:center;
      font-size:.9rem;color:#000;font-weight:900;
    }
    .card-number{
      font-weight:800;letter-spacing:.16em;padding:9px 10px;border-radius:12px;
      background:#020308;border:1px solid #33384a;display:inline-block;
      margin:4px 0;font-size:.9rem;
    }
    .card-note{font-size:.82rem;color:var(--muted);margin-top:6px;}
    .profile-summary{font-size:.9rem;color:var(--muted);margin-bottom:10px;}
    .profile-summary b{color:#e5e7eb;}
  </style>
</head>

<body class="register-page">

<header class="header">
  <div class="container header__row">
    <a class="logo" href="index.html">
      <span class="logo__mark">SC</span>
      <span class="logo__text">STOLAR CARP</span>
    </a>
    <nav class="nav" id="nav">
      <a href="/index.html" class="nav__link">Головна</a>
      <a href="/rules.html" class="nav__link">Регламент</a>
      <a href="/register.html" class="nav__link nav__link--active">Реєстрація</a>
      <a href="/live.html" class="nav__link">Live</a>
      <a href="/rating.html" class="nav__link">Рейтинг</a>
      <a href="/lakes.html" class="nav__link">Водойми</a>
      <a href="/sponsors.html" class="nav__link">Спонсори</a>
      <a href="/events/index.html" class="nav__link">Архів</a>
      <a href="/auth.html" class="nav__link">Акаунт</a>
    </nav>
    <button class="burger" id="burger" aria-label="Меню"><span></span><span></span><span></span></button>
  </div>
</header>

<main class="main">
  <section class="container section section--narrow">

    <div class="register-hero">
      <div class="register-hero__kicker">
        <span class="register-hero__kicker-tag">SC</span>
        STOLAR CARP · ENTRY
      </div>
      <h1 class="title-gradient"><span>РЕЄСТРАЦІЯ ЗМАГАНЬ STOLAR CARP</span></h1>
      <p>Оберіть відкрите змагання / етап, налаштуйте харчування — і подайте заявку. Дані команди беруться з вашого акаунта.</p>
      <div class="register-hero__divider"></div>
    </div>

    <div class="register-layout">

      <div class="card register-form-card">
        <h2>ФОРМА РЕЄСТРАЦІЇ</h2>
        <p class="form__hint">Поля з позначкою <span style="color:var(--accent);">*</span> є обовʼязковими.</p>

        <div id="profileSummary" class="profile-summary">Профіль: завантаження...</div>

        <form id="regForm" class="form" novalidate>
          <input type="text" name="hp" id="hp" autocomplete="off"
                 style="position:absolute;left:-9999px;top:-9999px;height:0;width:0;opacity:0;"/>

          <div class="field">
            <label>Оберіть змагання / етап <span style="color:var(--accent);">*</span></label>
            <div id="eventOptions" class="event-options">
              <p class="form__hint">Завантаження актуальних змагань...</p>
            </div>
          </div>

          <div class="field">
            <label>Харчування від організаторів? <span style="color:var(--accent);">*</span></label>
            <div class="radio-row">
              <label><input type="radio" name="food" value="Так" required> <span>Так</span></label>
              <label><input type="radio" name="food" value="Ні"> <span>Ні</span></label>
            </div>
          </div>

          <div class="field field--disabled" id="foodQtyField">
            <label for="food_qty">Кількість харчуючих (1–6)</label>
            <input type="number" id="food_qty" name="food_qty" min="1" max="6" inputmode="numeric"
                   placeholder="Вкажіть кількість, якщо замовляєте харчування" disabled />
            <div class="form__hint">Якщо харчування не потрібне — залиште поле порожнім.</div>
          </div>

          <div class="field">
            <label style="display:flex;align-items:center;gap:10px;cursor:pointer;">
              <input type="checkbox" id="rules" required style="transform:scale(1.25);accent-color:var(--accent);">
              <span>Підтверджую, що ознайомлений із
                <a href="rules.html" target="_blank" style="color:var(--accent);text-decoration:underline;">регламентом турніру</a>
              </span>
            </label>
          </div>

          <div class="form-actions">
            <button type="submit" id="submitBtn" class="btn btn--primary" disabled>Подати заявку</button>
            <div id="spinner" class="spinner" aria-hidden="true"></div>
          </div>

          <div id="msg" class="form-msg"></div>

          <p class="form__hint" style="margin-top:6px;">
            Після подачі заявки організатор бачить її в адмінці й підтверджує участь після оплати внеску.
          </p>
        </form>
      </div>

      <div class="card register-card card--payment">
        <div class="card-payment-title"><span>₴</span> Оплата внеску</div>
        <p>Сума внеску: <b>3500 ₴</b> на банківську картку:</p>
        <p>Номер картки:</p>
        <p><span id="cardNum" class="card-number">4874 0700 5068 8793</span></p>
        <button type="button" id="copyCard" class="btn btn--ghost" style="margin-top:6px;">Скопіювати номер картки</button>
        <p class="card-note">У коментарі до платежу обовʼязково вкажіть <b>назву команди</b>.</p>
      </div>

    </div>
  </section>
</main>

<footer class="footer">
  <div class="container footer__row">
    <div>© 2025 STOLAR CARP · Львів</div>
    <div class="footer__links">
      <a href="https://invite.viber.com/?g=8R04gUEhdVSnX6sr_DxGGGqAXTus0Ygh">Viber</a>
      <a href="https://youtube.com/@dk-stolarcarp?si=H-BUK2msCiKXdcA9">YouTube</a>
    </div>
  </div>
</footer>

<!-- Firebase COMPAT -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>

<script src="assets/js/firebase-init.js"></script>
<script src="assets/js/register_firebase.js"></script>

</body>
</html>
