<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è ‚Äî STOLAR CARP</title>
  <link rel="stylesheet" href="assets/css/main.css" />
  <script defer src="assets/js/config.js"></script>
</head>

<body class="register-page">
<header class="header">
  <div class="container header__row">
    <a class="logo" href="index.html">
      <span class="logo__mark">SC</span><span class="logo__text">STOLAR CARP</span>
    </a>
    <nav class="nav" id="nav">
      <a href="index.html" class="nav__link">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="rules.html" class="nav__link">–†–µ–≥–ª–∞–º–µ–Ω—Ç</a>
      <a href="register.html" class="nav__link nav__link--active">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
      <a href="live.html" class="nav__link">Live</a>
      <a href="rating.html" class="nav__link">–†–µ–π—Ç–∏–Ω–≥</a>
      <a href="lakes.html" class="nav__link">–í–æ–¥–æ–π–º–∏</a>
      <a href="sponsors.html" class="nav__link">–°–ø–æ–Ω—Å–æ—Ä–∏</a>
      <a href="events/turnir-2026.html" class="nav__link">–¢—É—Ä–Ω—ñ—Ä 2026</a>
    </nav>
    <button class="burger" id="burger"><span></span><span></span><span></span></button>
  </div>
</header>

<main class="main">
  <section class="container section section--narrow">
    <h1 class="page-title title-gradient">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥</h1>
    <p class="lead">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –Ω–∏–∂—á–µ –¥–ª—è —É—á–∞—Å—Ç—ñ —É –∑–º–∞–≥–∞–Ω–Ω—è—Ö.</p>

    <form id="regForm" class="form-card" novalidate>
      <!-- –∞–Ω—Ç–∏—Å–ø–∞–º -->
      <input type="text" name="hp" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" />
      <input type="hidden" name="fp" id="fp" />

      <div class="field">
        <label for="team_name">–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏ *</label>
        <input id="team_name" name="team_name" type="text" required minlength="2" maxlength="60" placeholder="DK –î–≤–∞ –ö—É–º–∞" />
      </div>

      <div class="field">
        <label for="members_count">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —É—á–∞—Å–Ω–∏–∫—ñ–≤ *</label>
        <input id="members_count" name="members_count" type="number" required min="1" max="4" inputmode="numeric" placeholder="1‚Äì4" />
      </div>

      <div class="field">
        <label for="captain">–ö–∞–ø—ñ—Ç–∞–Ω –∫–æ–º–∞–Ω–¥–∏ *</label>
        <input id="captain" name="captain" type="text" required minlength="2" maxlength="60" placeholder="–Ü–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ" />
      </div>

      <div class="field">
        <label for="phone_rest">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É *</label>
        <div class="phone-wrap">
          <span class="phone-prefix">+380</span>
          <input id="phone_rest" type="text" inputmode="numeric" pattern="\d{9}" maxlength="9" required placeholder="XXXXXXXXX" aria-label="9 —Ü–∏—Ñ—Ä –ø—ñ—Å–ª—è +380" />
        </div>
        <input type="hidden" id="phone" name="phone" />
        <small class="hint">–í–≤–µ–¥—ñ—Ç—å 9 —Ü–∏—Ñ—Ä –ø—ñ—Å–ª—è +380 (—Ä–∞–∑–æ–º –±—É–¥–µ +380XXXXXXXXX)</small>
      </div>

      <fieldset class="field">
        <legend>–•–∞—Ä—á—É–≤–∞–Ω–Ω—è *</legend>
        <label class="radio"><input type="radio" name="food" value="–ù—ñ" required /> –ù—ñ</label>
        <label class="radio"><input type="radio" name="food" value="–¢–∞–∫" required /> –¢–∞–∫</label>
      </fieldset>

      <div class="field" id="foodQtyField">
        <label for="food_qty">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ä—Ü—ñ–π</label>
        <input id="food_qty" name="food_qty" type="number" min="1" max="20" inputmode="numeric" placeholder="—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ä—Ü—ñ–π?" />
      </div>

      <!-- –±–ª–æ–∫ –æ–ø–ª–∞—Ç–∏ -->
      <p style="margin:10px 0;color:#ffcc00;text-align:center;">
        üí° –ü—ñ–¥ —á–∞—Å –æ–ø–ª–∞—Ç–∏ –≤–ø–∏—à—ñ—Ç—å <b>–Ω–∞–∑–≤—É –∫–æ–º–∞–Ω–¥–∏</b> —É –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –ø–ª–∞—Ç–µ–∂—É.
      </p>

      <div class="pay-block" style="text-align:center;margin:20px 0;">
        <h3>üí≥ –í–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–ø–ª–∞—Ç–∏</h3>
        <p style="color:#ccc;">–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≤–Ω–µ—Å–æ–∫: <b>1500 ‚Ç¥</b></p>

        <!-- Monobank (—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ –∑ –±—É–¥—å-—è–∫–æ–≥–æ –±–∞–Ω–∫—É) -->
        <a href="https://send.monobank.ua/7U9RD9ypvQ?amount=1500"
           target="_blank" rel="noopener noreferrer"
           class="btn btn--primary" style="margin:6px;">üíú –û–ø–ª–∞—Ç–∏—Ç–∏ —á–µ—Ä–µ–∑ Monobank</a>

        <!-- Privat24 (–∑–∞ –±–∞–∂–∞–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞) -->
        <a href="https://next.privat24.ua/money-transfer/card?amount=1500&receiver=5168745146711137"
           target="_blank" rel="noopener noreferrer"
           class="btn btn--danger" style="margin:6px;">üíö –ü—Ä–∏–≤–∞—Ç24 (–Ω–∞ –∫–∞—Ä—Ç–∫—É)</a>

        <p style="margin-top:12px;color:#aaa;">
          –ê–±–æ –ø–µ—Ä–µ–∫–∞–∑–æ–º –Ω–∞ –∫–∞—Ä—Ç–∫—É:<br>
          <b id="cardNum">5168 7451 4671 1137</b> (–ü—Ä–∏–≤–∞—Ç–±–∞–Ω–∫)
        </p>
      </div>

      <div class="field checkbox">
        <label><input id="agree" name="agree" type="checkbox" required /> –ü–æ–≥–æ–¥–∂—É—é—Å—å –∑ <a href="rules.html" target="_blank" rel="noopener">—Ä–µ–≥–ª–∞–º–µ–Ω—Ç–æ–º</a> *</label>
      </div>

      <div class="form-actions">
        <button id="submitBtn" type="submit" class="btn btn--primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞—è–≤–∫—É</button>
        <button id="copyCard" type="button" class="btn btn--ghost" style="margin-left:8px;">–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É</button>
        <span id="spinner" class="spinner" aria-hidden="true"></span>
      </div>

      <div id="msg" class="form-msg" role="status" aria-live="polite"></div>
    </form>
  </section>
</main>

<footer class="footer">
  <div class="container footer__row">
    <div>¬© 2025 STOLAR CARP ¬∑ –õ—å–≤—ñ–≤</div>
    <div class="footer__links">
      <a href="https://invite.viber.com/?g=8R04gUEhdVSnX6sr_DxGGGqAXTus0Ygh" rel="noopener">Viber</a>
      <a href="https://youtube.com/@dk-stolarcarp" rel="noopener">YouTube</a>
    </div>
  </div>
</footer>

<script>
  // –ø—Ä–æ—Å—Ç–∏–π fingerprint (–¥–ª—è –º–æ–∂–ª–∏–≤–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ)
  (function setFP(){
    const src = [
      navigator.userAgent,
      navigator.language,
      screen.width+'x'+screen.height,
      screen.colorDepth,
      Intl.DateTimeFormat().resolvedOptions().timeZone
    ].join('|');
    let h = 2166136261;
    for (let i=0;i<src.length;i++){ h ^= src.charCodeAt(i); h = (h*16777619)>>>0; }
    document.getElementById('fp').value = 'fp_'+h.toString(16);
  })();

  // –ª–æ–≥—ñ–∫–∞ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è
  const form = document.getElementById('regForm');
  const radios = form.querySelectorAll('input[name="food"]');
  const qty = document.getElementById('food_qty');
  const qtyField = document.getElementById('foodQtyField');
  function toggleFood() {
    const need = form.food && form.food.value === '–¢–∞–∫';
    qty.disabled = !need;
    qty.required = need;
    qtyField.classList.toggle('field--disabled', !need);
    if (!need) qty.value = '';
  }
  radios.forEach(r => r.addEventListener('change', toggleFood));
  toggleFood();

  // —Ç–µ–ª–µ—Ñ–æ–Ω: –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ª–∏—à–µ 9 —Ü–∏—Ñ—Ä –ø—ñ—Å–ª—è +380
  const phoneInput = document.getElementById('phone_rest');
  const phoneHidden = document.getElementById('phone');
  function syncPhone(){
    const clean = (phoneInput.value || '').replace(/\D/g,'').slice(0,9);
    phoneInput.value = clean;
    phoneHidden.value = clean.length === 9 ? '+380' + clean : '';
  }
  phoneInput.addEventListener('input', syncPhone);
  syncPhone();

  // –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç–∫–∏
  document.getElementById('copyCard').addEventListener('click', async ()=>{
    try{
      await navigator.clipboard.writeText(document.getElementById('cardNum').textContent.trim());
      const btn = document.getElementById('copyCard');
      const old = btn.textContent;
      btn.textContent = '–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ';
      setTimeout(()=>btn.textContent = old, 1200);
    }catch(_){}
  });

  // —Å–∞–±–º—ñ—Ç —Ñ–æ—Ä–º–∏ (–ª–æ–∫–∞–ª—å–Ω–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—á–∞ –ª–æ–≥—ñ–∫–∞; –±–µ–∫–µ–Ω–¥ –º–æ–∂–Ω–∞ –ø—ñ–¥‚Äô—î–¥–Ω–∞—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ)
  form.addEventListener('submit', e=>{
    e.preventDefault();

    // HTML5 –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
    if (!form.checkValidity()){
      const m = document.getElementById('msg');
      m.className = 'form-msg err';
      m.textContent = '–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –æ–±–æ–≤ º—è–∑–∫–æ–≤—ñ –ø–æ–ª—è.';
      form.reportValidity?.();
      return;
    }
    if (!/^\+380\d{9}$/.test(phoneHidden.value)){
      const m = document.getElementById('msg');
      m.className = 'form-msg err';
      m.textContent = '–í–∫–∞–∂—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω (9 —Ü–∏—Ñ—Ä –ø—ñ—Å–ª—è +380).';
      return;
    }

    // –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
    const msg = document.getElementById('msg');
    msg.className = 'form-msg ok';
    msg.textContent = '–ó–∞—è–≤–∫—É –∑–±–µ—Ä–µ–∂–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ. –û–ø–ª–∞—Ç—ñ—Ç—å, –±—É–¥—å –ª–∞—Å–∫–∞, 1500 ‚Ç¥ —Ç–∞ –≤–∫–∞–∂—ñ—Ç—å –Ω–∞–∑–≤—É –∫–æ–º–∞–Ω–¥–∏ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –ø–ª–∞—Ç–µ–∂—É. –ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –Ω–∞–ø–∏—à—ñ—Ç—å —É Viber.';

    // –æ—á–∏—Å—Ç–∫–∞
    form.reset();
    toggleFood();
    syncPhone();
  });
</script>
</body>
</html>
